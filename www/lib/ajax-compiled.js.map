{"version":3,"sources":["ajax.js"],"names":[],"mappings":"AAAA;;;;AAIA,SAAS,QAAT,CAAkB,IAAlB,EAAuB;AACnB,SAAK,CAAL,GAAO,KAAK,MAAL,EAAP;;AAEA,QAAI,MAAI,EAAR;AACA,SAAI,IAAI,IAAR,IAAgB,IAAhB,EAAqB;AACjB,YAAI,IAAJ,CAAS,OAAK,GAAL,GAAS,KAAK,IAAL,CAAlB;AACH;AACD,WAAO,IAAI,IAAJ,CAAS,GAAT,CAAP;AACH;AACD,SAAS,IAAT,CAAc,IAAd,EAAmB;AACf,WAAK,QAAQ,EAAb;AACA,QAAG,CAAC,KAAK,GAAT,EAAa;AACb,SAAK,IAAL,GAAU,KAAK,IAAL,IAAa,EAAvB;AACA,SAAK,IAAL,GAAU,KAAK,IAAL,IAAa,KAAvB;;AAEA,QAAI,QAAM,IAAV;;AAEA,QAAG,OAAO,cAAV,EAAyB;AACrB,YAAI,QAAM,IAAI,cAAJ,EAAV;AACH,KAFD,MAEK;AACD,YAAI,QAAM,IAAI,aAAJ,CAAkB,mBAAlB,CAAV;AACH;;AAED,YAAO,KAAK,IAAZ;AACI,aAAK,KAAL;AACI,kBAAM,IAAN,CAAW,KAAX,EAAiB,KAAK,GAAL,GAAS,GAAT,GAAa,SAAS,KAAK,IAAd,CAA9B,EAAkD,IAAlD;AACA,kBAAM,IAAN;AACA;AACJ,aAAK,MAAL;AACI,kBAAM,IAAN,CAAW,MAAX,EAAkB,KAAK,GAAvB,EAA2B,IAA3B;AACA,kBAAM,gBAAN,CAAuB,cAAvB,EAAsC,mCAAtC;AACA,kBAAM,IAAN,CAAW,SAAS,KAAK,IAAd,CAAX;AACA;AATR;;AAYA,UAAM,kBAAN,GAAyB,YAAU;AAC/B,YAAG,MAAM,UAAN,IAAkB,CAArB,EAAuB;AACnB,yBAAa,KAAb;AACA,gBAAG,MAAM,MAAN,IAAc,GAAd,IAAqB,MAAM,MAAN,GAAa,GAAlC,IAAyC,MAAM,MAAN,IAAc,GAA1D,EAA8D;AAC1D,qBAAK,OAAL,IAAgB,KAAK,OAAL,CAAa,MAAM,YAAnB,CAAhB;AACH,aAFD,MAEK;AACD,qBAAK,KAAL,IAAc,KAAK,KAAL,CAAW,MAAM,MAAjB,CAAd;AACH;AACJ;AACJ,KATD;AAUH","file":"ajax-compiled.js","sourcesContent":["/**\n *  Author:strive\n *  Date: 2016/1/13\n */\nfunction json2url(json){\n    json.t=Math.random();\n\n    var arr=[];\n    for(var name in json){\n        arr.push(name+'='+json[name]);\n    }\n    return arr.join('&');\n}\nfunction ajax(json){\n    json=json || {};\n    if(!json.url)return;\n    json.data=json.data || {};\n    json.type=json.type || 'get';\n\n    var timer=null;\n\n    if(window.XMLHttpRequest){\n        var oAjax=new XMLHttpRequest();\n    }else{\n        var oAjax=new ActiveXObject('Microsoft.XMLHTTP');\n    }\n\n    switch(json.type){\n        case 'get':\n            oAjax.open('GET',json.url+'?'+json2url(json.data),true);\n            oAjax.send();\n            break;\n        case 'post':\n            oAjax.open('POST',json.url,true);\n            oAjax.setRequestHeader('Content-Type','application/x-www-form-urlencoded');\n            oAjax.send(json2url(json.data));\n            break;\n    }\n\n    oAjax.onreadystatechange=function(){\n        if(oAjax.readyState==4){\n            clearTimeout(timer);\n            if(oAjax.status>=200 && oAjax.status<300 || oAjax.status==304){\n                json.success && json.success(oAjax.responseText);\n            }else{\n                json.error && json.error(oAjax.status);\n            }\n        }\n    };\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}